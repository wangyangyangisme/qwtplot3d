<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  
  <title>QwtPlot3D User's Guide: QwtPlot3D User's Guide</title><link rel="stylesheet" type="text/css" href="general.css"></head>
<body>
<!-- Generated by Doxygen 1.3.2 -->
<h2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Manual<br>
<br>
</h2>
<ol style="margin-left: 40px;" type="1">
  <li><a href="manual.html#installation">Installation</a>&nbsp; <span style="color: rgb(0, 153, 0);">(changed)</span><span style="color: rgb(0, 153, 0);"></span></li>
  <li><a href="manual.html#conventions">Using Conventions</a></li>
  <li><a href="manual.html#simple">Simple Plot</a></li>
  <li><a href="manual.html#mouse">Mouse and Keyboard Handling</a>&nbsp;<span style="color: rgb(0, 153, 0);"></span> </li>
  <li><a href="manual.html#coords">Coordinate Systems and Axes</a>&nbsp;<span style="color: rgb(0, 153, 0);"></span> </li>
  <li><a href="manual.html#styles">Plotting Styles</a></li>
  <li><a href="manual.html#normals">Normal Vectors</a></li>
  <li><a href="manual.html#colors">Colors</a></li>
  <li><a href="#lighting">Lighting</a><span style="font-weight: bold; color: rgb(204, 0, 0);"></span> </li>
  <li><a href="manual.html#fonts">Fonts etc.</a></li>
  <li><a href="#widgets">Widget Types</a>&nbsp; <span style="color: rgb(255, 0, 0);">(new)</span><a href="#widgets"><br>
    </a>
    <ul>
      <li><a href="#surfaceplot">Surfaces</a></li>
      <li><a href="#graphplot">Graphs &amp; General Cell Complexes<br>
        </a></li>
      <li>Volume (todo)<br>
      </li>
    </ul>
  </li>
  <li><a href="#enrich">Enrichments</a>&nbsp; <span style="color: rgb(0, 153, 0);">(changed)</span> <span style="font-weight: bold; color: rgb(204, 0, 0);"></span><br>
  </li>
  <li><a href="manual.html#meshs">Mesh Types</a></li>
  <li><a href="manual.html#text">Text, Legends</a></li>
  <li><a href="manual.html#io">Input/Output</a> <span style="color: rgb(0, 153, 0);"></span><a href="manual.html#io"><br>
    </a></li>
  <ul>
    <li><a href="manual.html#datainput">&nbsp;Input</a></li>
  </ul>
  <ol>
  </ol>
  <ul>
    <ul>
      <li><a href="manual.html#func">Mathematical
Functions and Parametric Surfaces</a></li>
    </ul>
    <ul>
      <li><a href="#files">Files</a></li>
    </ul>
    <li><a href="#dataoutput">Output</a></li>
  </ul><li><a href="#technicalities">Technicalities/Helper Structures etc.<br></a><ul><li><a href="#smartpointer">Smart Pointer</a></li></ul></li>
  <li><a href="#examples">Examples</a> <span style="color: rgb(255, 0, 0);"></span><br>
  </li>
  <ol>
  </ol>
</ol>
<div style="margin-left: 40px;"> </div>
<h2 style="margin-left: 40px;"><br>
</h2>
<h4 style="margin-left: 40px;"><a name="installation"></a> Installation</h4>
<div style="margin-left: 40px;">With <span style="font-family: monospace;">qwtplot3d.pro</span> you can create a<br>
<ul>
  <li>VC8 DLL project&nbsp; for WinXX Microsoft environments</li>
  <li>Shared library for POSIX systems.&nbsp;</li>
</ul>
<p>Adjust the target path and perhaps the library directories. The same
is true for the examples <span style="font-family: monospace;">.pro</span>
files. &nbsp;<br>
</p>

<p> QwtPlot3D supports requires Qt4 or newer (Qt3 compatible with versions &lt; &nbsp;0.3) <br>The library requires OpenGL &gt;= 1.1 or equivalent and a true
color
mode with 24 or 32 bits color depth.</p>
<p>The API Documentation has been created using <a href="http://www.doxygen.org" target="_parent">doxygen</a>. If you
prefer to generate your own version, you will find the configuration in
<span style="font-family: monospace;">./doc/Doxyfile.doxygen</span> in
the <a href="http://qwtplot3d.sourceforge.net/qwtplot3d-doc.zip">offline
documentation</a>.<br>
<span style="font-style: italic;"></span>You can test almost all
abilities of QwtPlot3D&nbsp; from within the
<span style="font-family: monospace;">mesh2 </span>example,&nbsp;
including:<br>
</p>
<ol>
  <li>Colors, fonts, normal vectors, mouse handling etc.</li>
  <li>Output to all pixmap formats supported by Qt</li>
  <li>Output to vector formats supported by gl2ps<br>
  </li>
  <li>Plotting styles and resolution change on the fly</li>
  <li>Shading</li>
</ol>
The<span style="font-family: monospace;"> </span>example
demonstrates vector graphics output utilizing&nbsp; <a target="_parent" href="http://www.geuz.org/gl2ps/">gl2ps</a>. That
means EPS, PS and&nbsp; PDF. See <a href="pdf.html">here</a>
for an
extensive discussion. gl2ps
uses optionally
<a target="_parent" href="http://www.zlib.org">zlib</a> for
compression. This leads to
significant smaller EPS
&amp; PDF output and is therefore recommended. The zlib switch in
qwtplot3d.pro turns compression on or off. The default setting is OFF
for Windows and ON for all other systems.
<p>So, it would be a good idea to get this example project up and
running
...<span style="font-weight: bold;"></span><br>
</p>
</div>
<span style="font-weight: bold;"><br>
</span>
<h4 style="margin-left: 40px;"><a name="conventions"></a> Using
conventions</h4>
<div style="margin-left: 40px;">Calculations are performed as accurate
as <span style="font-family: monospace;">DBL_EPSILON</span> (see your
float.h for the precise value). This is mainly due to the autoscaler.
See e.g. <a href="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;threadm=6odqk1%24p23%241%40nnrp1.dejanews.com&amp;rnum=1&amp;prev=/groups%3Fq%3DFLT_EPSILON%26hl%3Den%26lr%3D%26ie%3DUTF-8%26oe%3DUTF-8%26selm%3D6odqk1%2524p23%25241%2540nnrp1.dejanews.com%26rnum%3D1" target="_blank">here</a>
for a topic related discussion.<br>
<!-- Generated by Doxygen 1.3.2 -->
<p> </p>
<br>
<h4><span style="text-decoration: underline;"><a name="simple"></a></span>Simple
Plot</h4>
<table style="text-align: left; width: 90%; margin-right: auto; background-color: rgb(204, 204, 204);" border="0" cellpadding="0" cellspacing="0" frame="box" rules="none">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <pre style="background-color: rgb(204, 204, 204);"><code><font color="#000000"><font color="#008000">  //-----------------------------------------------------------------</font><br>  <font color="#008000">//              simpleplot.cpp</font><br>  <font color="#008000">//</font><br>  <font color="#008000">//      A simple example which shows how to use GridPlot</font><br>  <font color="#008000">//-----------------------------------------------------------------<br><br></font></font></code><code><font color="#000000"><font color="#0000ff"><b>&nbsp; </b></font></font></code><code><font color="#000000"><font color="#0000ff"><b>#include &lt;math.h&gt;</b></font><br></font></code><code><font color="#000000"><font color="#0000ff"><b>  #include &lt;qapplication.h&gt;</b></font><br><font color="#0000ff"><b>  #include &lt;qwt3d_gridplot.h&gt;</b></font><br><font color="#0000ff"><b>  #include &lt;</b></font></font></code><code><font color="#000000"><font color="#0000ff"><b>qwt3d_</b></font></font></code><code><font color="#000000"><font color="#0000ff"><b>function.h&gt;</b></font><br><font color="#0000ff"><b>  </b></font><br><br>  <font color="#0000ff">using namespace</font> Qwt3D;<br><br>  <font color="#0000ff">class</font> Rosenbrock : <font color="#0000ff">public</font> Function<br>  {<br>  <font color="#0000ff">public</font>:<br><br>    Rosenbrock(GridPlot* pw)<br>    :Function(pw)<br>    {<br>    }<br><br>    <font color="#0000ff">double operator</font>()(<font color="#0000ff">double</font> x, <font color="#0000ff">double</font> y)<br>    {<br>      <font color="#0000ff">return</font> log((1-x)*(1-x) + 100 * (y - x*x)*(y - x*x)) / 8;<br>    }<br>  };<br><br><br>  <font color="#0000ff">class</font> Plot : <font color="#0000ff">public</font> GridPlot<br>  {<br>  <font color="#0000ff">public</font>:<br>      Plot();<br>  };<br><br><br>  Plot::Plot()<br>  {<br>    setTitle("A Simple GridPlot Demonstration");<br>    <br>    Rosenbrock rosenbrock(<font color="#0000ff">this</font>);<br><br>    rosenbrock.setMesh(41,31);<br>    rosenbrock.setDomain(-1.73,1.5,-1.5,1.5);<br>    rosenbrock.setMinZ(-10);<br><br>    rosenbrock.create();<br><br>    setRotation(30,0,15);<br>    setScale(1,1,1);<br>    setShift(0.15,0,0);<br>    setZoom(0.9);<br><br>    <font color="#0000ff">for</font> (<font color="#0000ff">unsigned</font> i=0; i!=coordinates()-&gt;axes.size(); ++i)<br>    {<br>      coordinates()-&gt;axes[i].setMajors(7);<br>      coordinates()-&gt;axes[i].setMinors(4);<br>    }<br><br><br>    coordinates()-&gt;axes[X1].setLabelString("x-axis");<br>    coordinates()-&gt;axes[Y1].setLabelString("y-axis");<br>    coordinates()-&gt;axes[Z1].setLabelString(QChar (0x38f)); <font color="#008000">// Omega - see http://www.unicode.org/charts/</font><br><br><br>    setCoordinateStyle(BOX);<br><br>    updateData();<br>    updateGL();<br>  }<br><br>  <font color="#0000ff">int</font> main(<font color="#0000ff">int</font> argc, <font color="#0000ff">char</font> **argv)<br>  {<br>      QApplication a(argc, argv);<br>      Plot plot;<br><br><span style="font-weight: bold; color: rgb(51, 51, 255);">#if QT_VERSION &lt; 0x040000</span><br>      a.setMainWidget(&amp;plot);<br><span style="color: rgb(51, 51, 255); font-weight: bold;">#endif</span><br><br>      plot.resize(800,600);<br>      plot.show();<br>      <font color="#0000ff">return</font> a.exec();<br>  }</font></code></pre>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>
The code above shows the almost most simple application of a GridPlot.
Data are provided by a mathematical function object
(Rosenbrock). &nbsp;You can derive from this kind of classes by
including <code>qwt3d_function.h. </code>A base for the other player
-
the widget itself - resides inside <code>qwt3d_gridplot.h.</code><br>
The derived class makes only small adaptations to the standard
behaviour,
mainly providing scales and label for the axes and a boxed coordinate
system . The axes themselves are autoscaled.<br>
<br>
<h4><span style="text-decoration: underline;"><a name="mouse"></a></span>Mouse
and Keyboard Handling</h4>
<span style="font-weight: bold;">Try&nbsp; </span><span style="font-family: monospace; font-weight: bold;">Ctrl, Shift, Alt </span><span style="font-weight: bold;">in combination with your wheel and left
mouse button to get a clue (or use instead your cursor keys).</span><span style="font-family: monospace;"></span><br>
<br>
The base class Plot3D implements the standard mouse and keyboard
behaviour. You can
perform shifts, turns, scales and zooms with your left mouse button and
combinations of &nbsp;<span style="font-family: monospace;">Ctrl, Shift</span>
and&nbsp; <span style="font-family: monospace;">Alt. </span>Some
actions
have equivalents delegated to your wheel. You can also turn on or off
&nbsp;mouse handling entirely by using Plot3D::enableMouse () and
Plot3D::disableMouse (). The default behaviour can be changed with
Plot3D::assignMouse(). Keyboard handling has been implemented in a
similar way.
Additionally, you can determine the speed of the performed
actions&nbsp; when using the keyboard.<br>
<br>
<h4><span style="text-decoration: underline;"><a name="coords"></a></span>Coordinate
Systems and Axes</h4>
<div style="margin-left: 40px;"><img src="../../doxygenimages/axes.png" title="" alt="Axes" style="width: 641px; height: 333px;"><br>
</div>
<br>
<div style="text-align: left; margin-left: 120px;"><br>
</div>
<br>
Axes are subdivided by major and minor tics. You have full control over
tic length and orientation and also the line width of tics and the axis
body. Furthermore, the axes provide captions and numberings. The
colors,
fonts etc. are customizable for all of these parts. Additionally, all
axes
with linear scaling are autoscalable, giving them major tics at
positions which are
multiples of 1,2,5 * 10^n relative to the underlying interval. 12 axes
together form the coordinate system. It can be visualized as frame or
box
and has
the ability to autoswitch axis decoration and visibility of axes
themselves depending on the&nbsp; position in the 3D-space. Most axis
properties can be changed for the whole coordinate system at once or
separately for single axes. An axis is
also part of the color legend object.<br>
<br>
Axes are highly customizable regarding label content and tic
distribution. Linear and logarithmic scales are supported by default.
Other variants, like different numbering schemes (date/time, letters
etc.) and user-defined scales are possible. <br>
<br>
See the
'axes' project for example implementations.<br>
<br>
<br>
<h4><span style="text-decoration: underline;"><a name="styles"></a></span>Plotting
Styles</h4>
// todo<br>
<br>
<h4><span style="text-decoration: underline;"><a name="normals"></a></span>Normal
Vectors</h4>
// todo
<h4><span style="text-decoration: underline;"><a name="colors"></a></span>Colors</h4>
The <a href="../doxygen/classQwt3D_1_1Color.html">Color</a>&nbsp;
class operates comparable to <a href="../doxygen/classQwt3D_1_1Function.html">Function</a> in defining
a callback operator(x,y,z) - able to assign to every single data point
a RGBA value. In many cases it is sufficient to do this in an
exclusively
z-coordinate dependent manner.To satisfy this demand, the <a href="../doxygen/classQwt3D_1_1StandardColor.html">StandardColor</a>
class has been provided. The class has a vector&lt;RGBA&gt; member and
the operator() distributes the entries equidistant between the extreme
z values of the data. The Plot3D constructor enforces as standard
behaviour a StandardColor object with 100 RGBA entries. <br>
<br>
The mesh2 data color dialog gives a good example of changing a standard
color. The widget is a specialized Qt file
dialog for reading palette files (*) . The example files include not
more than&nbsp; 256
different colors (since originally designed for 256 color graphics),
but the color vector itself (and also the file reading routine) is not
limited to this number. To give a plot a new color use&nbsp; <a href="../doxygen/classQwt3D_1_1Plot3D.html#a31">Plot3D::setDataColor</a>
. Also, simple RGBA Color attributes are available for background,
axes,
meshes, labels, title etc..<br>
<br>
*shameless stolen from the <a href="http://spanky.triumf.ca/www/fractint/fractint.html" target="_parent">fractint</a>
homepage<br>
<br>
<h4><a name="lighting"></a>Lighting</h4>
Some&nbsp; Plot3D class member encapsulate (partially) OpenGL's
lighting features. This means material and light source properties and
light source positions. You can set up to 8 different lights (OpenGL
guaranteed minimum). Beware, that some calculations become very slow in
this case. Lighting is considered&nbsp; <span style="text-decoration: underline;">experimental</span>&nbsp; at this
moment, and works not yet in a completely precise way. This will be
fixed in the future.<br>
<br>
<h4><a name="fonts"></a>Fonts
etc.</h4>
All Fonts available for Qt are also provided for screen representation
(including Unicode) and pixmap output. A special question concerns
output in
vector formats. At the moment I
have no plans in supporting FreeType or similar solutions. But you can
still use the gl2ps provided mixed TeX-EPS/PDF variant, producing <a href="pdf.html">pretty satisfying results</a>.<br>
&nbsp;<br>
<br>
<h4><a name="widgets"></a>Widget Types<br>
</h4>
<h4 style="font-style: italic; font-weight: normal;">Overview:</h4>
// todo<br>
&nbsp;
<br>
<h4><a name="surfaceplot"></a><span style="font-weight: normal; font-style: italic;">Surfaces:</span></h4>
<p> </p>
// todo<span style="font-family: monospace;"><br>
<br>
</span>
<h4><a name="graphplot"></a><span style="font-weight: normal; font-style: italic;">Graphs &amp; General
Cell Complexes:</span></h4>
<p> </p>
// todo<br>
<br>
<h4><a name="enrich"></a>Enrichments</h4>
Generally spoken, an Enrichment provides additional visual objects
depending on data properties. Furthermore, the base class has been well
embedded in the plots framework to draw these objects in a reasonable
efficient manner. Enrichments come in six flavors: user-, vertex-,
edge-,
face-, voxel-, graph-&nbsp; and widget-driven (the term 'graph' refers
to the
data
object as a whole). Widget Enrichments are somewhat special, because
they describe entities outside the&nbsp; data object. In future
versions they will also gather things like title and legends. The
variants 3)-7) are
future work, but
the yet implemented user- and vertex-based Enrichments are still
remarkable
powerful:<br>
<br>
<br>
<div style="text-align: center;"><a href="../../images/venrichment.png"><img src="../../images/small/venrichment.jpg" alt="Enrichment" style="border: 1px solid ; width: 200px; height: 130px;"></a><br>
<br>
<br>
<div style="text-align: left;">The primary impulse came from the wish
to add some small objects (esp. marker etc.) at dedicated positions to
the plot. The result is surprisingly more far-reaching. The screenshot
shows an
entire new plotting
style utilizing Vertex Enrichments. The small red-white
marker objects are part of the generating Enrichment
object as well as the bars themselves. Beginning with version 0.2.3
QwtPlot3D supports user defined plotting styles. But not enough,
Plot3D provides a container allowing the injection of arbitrary
Enrichments also in other contexts. See the class documentation for
closer explanation. The
<span style="font-family: monospace;">example/enrichment </span>directory
contains the generating application for the screenshot seen above. <br>
<br>
</div>
</div>
<h4><a name="text"></a>Text, Legends<br>
</h4>
// todo
<h4><a name="meshs" style="font-weight: bold;"></a><span style="font-weight: bold;">Mesh Types</span></h4>
<h4><span style="font-weight: bold;"></span></h4>
// todo
<h4><a name="io"></a>Input/Output<br>
</h4>
&nbsp;File I/O in QwtPlot3D works in one of the following ways:<br>
<br>
a)&nbsp; <span style="color: rgb(0, 90, 156);">Define a global
function:</span><br>
<br>
<div style="margin-left: 40px;"><code>bool MyHandler(Plot3D* plot,
QString const&amp; fname)<br>
{<br>
&nbsp;&nbsp; GridPlot*&nbsp; tmpplot = (GridPlot*)plot;<br>
&nbsp;&nbsp; // ... do your in- or output here<br>
&nbsp;&nbsp; return true;<br>
</code><code>}<br>
<br>
</code></div>
b)&nbsp; <span style="color: rgb(0, 90, 156);">... or an enhanced
version - a Functor:</span><br>
<br>
<div style="margin-left: 40px;"><code>class </code><code>MyHandler :
public IO::Functor<br>
{<br>
public:<br>
&nbsp;&nbsp;&nbsp; bool some_modifier;<br>
&nbsp;&nbsp;&nbsp; void&nbsp; adaptMyBehaviour();<br>
&nbsp;&nbsp;&nbsp; <br>
</code><code>&nbsp;&nbsp;&nbsp; // The next both must be implemented:</code><br>
<code>&nbsp;&nbsp;&nbsp; Functor* clone() const<br>
&nbsp; &nbsp; {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // The framework assumes the
destruction, <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // so provide a heap based object
here<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return new MyHandler(you_name_it);<br>
&nbsp;&nbsp;&nbsp; }&nbsp; <br>
&nbsp;&nbsp;&nbsp; bool operator()(Plot3D* plot, QString const&amp;
fname)<br>
&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; // Do highly complex I/O-things here<br>
&nbsp;&nbsp;&nbsp; }<br>
};<br>
</code><code></code><br>
</div>
In any case the new function/functor has to be registered by one of the
following static functions:<br>
<br>
<div style="margin-left: 40px;"><code>bool IO::defineInputHandler(
QString
const&amp; format, Functor const&amp; func)<br>
bool IO::defineInputHandler( QString const&amp; format, Function func)</code><br>
</div>
<br>
The same procedure applies to the <code></code>output variants. If you
wish to modify the
behaviour later, you can either replace the actual handler with a
second
call to define...Handler() conveying a fresh function/functor or - in
the case of a functor -
manipulate the yet installed object:<br>
<br>
<div style="margin-left: 40px;"><code>MyHandler* own_format_handler =
(MyHandler*)IO::outputHandler("OWN");<br>
</code><code>if (</code><code>own_format_handler</code><code>)<br>
&nbsp;&nbsp;&nbsp; own_format_handler-&gt;</code><code>adaptMyBehaviour()</code><code>;<br>
// ...<br>
</code><code></code></div>
<code><br>
<span style="font-family: sans-serif;">Pre-defined </span></code>output
handler for all of the QImageIO pixmap formats are available.
<code><br>
<br>
</code>
<h4><code><a name="datainput"></a>Data Input</code></h4>
QwtPlot3D supports one general and some special forms of native data
input:
<h4 style="font-weight: normal;"><em>Generic:</em></h4>
<p> </p>
A general approach has been provided in form of the 3 SurfacePlot
member: <br>
<br>
<table border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><span class="el">loadFromData(</span>double
**data, unsigned int columns, unsigned int rows, double minx,
double maxx, double miny, double maxy)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><span class="el">loadFromData</span>(<span class="el">Qwt3D::Triple</span>
**data, unsigned int columns, unsigned int rows, bool uperiodic=false,
bool vperiodic=false)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><span class="el">loadFromData</span>(<span class="el">Qwt3D::TripleVector</span>
const &amp;data, <span class="el">Qwt3D::CellVector</span>
const &amp;poly)</td>
    </tr>
  </tbody>
</table>
<span style="color: rgb(255, 0, 0);"></span>
<p>The 3 functions in this order have ascending generality:<br>
</p>
<ol>
  <li>The first one deals with data on top of&nbsp;
plane grids:&nbsp; z=f(x,y) ;</li>
  <li>The 2nd form maps also deformed rectangular grids&nbsp; x=f(u,v),
y=g(u,v), z=h(u,v)&nbsp;&nbsp; u and v can be periodic&nbsp; - both or
one of them.</li>
  <li>The last variant eventually provides
support for more free formed meshs, divided in a node- (the TripleVector
argument) and a&nbsp; polygon- (the CellVector) &nbsp;part. This kind of
data is common for FEM and CAD applications but not limited to them. It
is the 'swiss knife' because it is of course able to represent all the
other variants. The question here is performance (still not too bad).<br>
  </li>
</ol>
<h4><a name="func"></a><span style="font-weight: normal; font-style: italic;">Mathematical
Functions &amp; Parametric Surfaces:</span></h4>
<p> </p>
Setup a function object. To do so, inherit from the Function class and
write your own version of <span style="font-family: monospace;">Function::operator()(double
x, double y).</span> Set
the domain and perhaps limitations for the range and call
<span style="font-family: monospace;">Function::create()</span>. Thats
all.See also Function and the implementation
of concrete functions in 'examples'.&nbsp; Parametric surfaces are
generalizations of functions. In a similar way, <span style="font-family: monospace;">ParametricSurface::operator()(double
u,
double v)</span> has to be replaced. (u,v)-domains may have
rotational
symmetry.&nbsp; The drawing routines of GridPlot are aware of this
if you provide the necessary information with <span style="font-family: monospace;">ParametricSurface::setPeriodic().</span><br>
<br>
<h4 style="font-weight: normal;"><em><a name="files"></a>Grid data
files:</em></h4>
<p></p>
<pre>   jk:11051895-17021986                       <span class="comment">//  magic string</span><br>   MESH                                       <span class="comment">//  MESH file (other keywords in future versions)</span><br>   327 466                                    <span class="comment">//  x,y grid</span><br>   557726 567506                              <span class="comment">//  domain boundaries (x values)</span><br>   5.10821e+006 5.12216e+006                  <span class="comment">//  domain boundaries (y values)</span><br>   682 682 682 682 912 924 928 928 932 ... <br>   ... element[327*466-1]                     <span class="comment">//  the single z values </span><br></pre>
<p><br>
<br>
</p>
<p>Coding example:<br>
<br>
Reading of the aforementioned file type, utilizing the first of the
above mentioned <span class="el"></span>functions.<br>
See NativeReader for additional information. Write your own reader
classes in this spirit. It should always be enough to provide
appropriate data for loadFromData.<br>
</p>
<p></p>
<table style="text-align: left; background-color: rgb(204, 204, 204); width: 90%;" border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="vertical-align: top;">
      <pre><code><font color="#000000"><font color="#0000ff">  <br></font></font>  bool NativeReader::operator()(Plot3D* plot, QString const&amp; fname, QString const&amp; format)<br>  {	<br>    FILE* file;<br>    unsigned int xmesh, ymesh;<br>    double minx, maxx, miny, maxy;<br>	<br>    if ( !collectInfo(file, fname, xmesh, ymesh, minx, maxx, miny, maxy) )<br>      return false;<br>	<br>    <span style="color: rgb(0, 102, 0);">/* allocate some space for the mesh */</span><br>    double** data = allocateData(xmesh, ymesh);<br><br>    for (unsigned int j = 0; j &lt; ymesh; j++) <br>    {<br>      for (unsigned int i = 0; i &lt; xmesh; i++) <br>      {<br>        if (fscanf(file, "%lf", &amp;data[i][j]) != 1) <br>        {<br>          fprintf(stderr, "NativeReader::read: error in data file \"%s\"\n", (const char*)fname.local8Bit());<br>          return false;<br>        }<br><br>        if (data[i][j] &gt; maxz_)<br>          data[i][j] = maxz_;<br>        else if (data[i][j] &lt; minz_)<br>          data[i][j] = minz_;<br>      }<br>    }<br><br>  <span style="color: rgb(0, 102, 0);">  /* close the file */</span><br>    fclose(file);<br><br>    ((GridPlot*)plot)-&gt;loadFromData(data, xmesh, ymesh, minx, maxx, miny, maxy);<br>    deleteData(data,xmesh);<br><br>    return true;<br>  }<br></code><code><font color="#000000"><br></font></code></pre>
      </td>
    </tr>
  </tbody>
</table>
<p><br>
</p>
<h4><a name="dataoutput"></a>Data Output</h4>
// todo<br>
<br><h4><a name="technicalities"></a>Technicalities/Helper Structures etc.</h4><h4 style="font-weight: normal;"><em><em><a name="smartpointer"></a>Smart Pointer:</em></em></h4><code>Qwt3D::ValuePtr</code>,
a ValuePtr class from Sutter's "More Exceptional C++" allows assignment
and copy construction, even for different but related classes.<br><br>Semantics:<br><br><code>ValuePtr&lt;T&gt; t(new T); </code><code><span style="color: rgb(0, 102, 0);">// OK</span></code><br><code><br></code><code>ValuePtr&lt;Base&gt; b; <br></code><code>ValuePtr&lt;Derived&gt; d;<br><br>b = d; &nbsp;</code><code><span style="color: rgb(0, 102, 0);">// OK</span></code><br><code>&nbsp;<br>ValuePtr&lt;Base&gt; bb; <br>bb = b; <span style="color: rgb(0, 102, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// No slicing, b is cloned</span></code><br><code>ValuePtr&lt;Base&gt; bbb(b);&nbsp;</code><code><span style="color: rgb(0, 102, 0);">// Same</span></code><code><br></code><br><br><br>Examples inside the library include&nbsp;ValuePtr&lt;Color&gt; rtc..<br>&nbsp; <br>
<h4><a name="examples"></a>Examples</h4>
All the examples can be found in the <code>examples </code>subdirectory,
executables are gathered in the<code> examples/bin</code> directory.<br>
<br>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; width: 20%;">simpleplot<br>
      </td>
      <td style="vertical-align: top;">The almost most simple plot
possible<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; width: 20%;">autoswitch<br>
      </td>
      <td style="vertical-align: top;">Demonstrates the autoswitching
of axes, and the parallel use of 2 plot widgets in a splitter windows.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; width: 20%;">axes<br>
      </td>
      <td style="vertical-align: top;">Manipulation of&nbsp; axes
parts, like tics, labeling (including the application of user-defined
numbering); Positioning for labels; Nonlinear scales <br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; width: 20%;">enrichments<br>
      </td>
      <td style="vertical-align: top;">The running version from the <a href="#enrich">Enrichment</a> discussion.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; width: 20%;">mesh2<br>
      </td>
      <td style="vertical-align: top;">Main example. It includes (most
of) the other features not found in specialized examples. There are
still things, hidden in the API. There is a thesis.tex file under the
sources of mesh2. It can be used to produce complete output (esp.
vectorized numbering etc.) in connection with the libraries PDF and PS
output facilities.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">freemesh<br>
      </td>
      <td style="vertical-align: top;"><span style="font-weight: bold;"></span>A
few variants for creating MeshPlots:<br>
      <ul>
        <li>handcrafted (freeformed tetra/polyhedron)<br>
        </li>
        <li>FEM data (reading from files in <code>data/*</code>)</li>
      </ul>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">graph<br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<p></p>
</div>
</body></html>